(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{39:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var c=t(2),a=t.n(c),r=t(15),o=t.n(r),u=t(6),i=t(3),s=t(0),l=function(e){var n=e.addPerson,t=e.name,c=e.number,a=e.handleNameChange,r=e.handleNumberChange;return Object(s.jsxs)("form",{onSubmit:n,children:[Object(s.jsxs)("div",{children:["name: ",Object(s.jsx)("input",{value:t,onChange:a})]}),Object(s.jsxs)("div",{children:["number: ",Object(s.jsx)("input",{value:c,onChange:r})]}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{type:"submit",children:"add"})})]})},d=t(4),j=t.n(d),b="https://guarded-savannah-84072.herokuapp.com/api/persons",h=function(){return j.a.get(b).then((function(e){return e.data}))},f=function(e){return j.a.post(b,e).then((function(e){return e.data}))},m=function(e,n){return j.a.put("".concat(b,"/").concat(e),n).then((function(e){return e.data}))},O=function(e){return j.a.delete("".concat(b,"/").concat(e)).then((function(e){return e.data}))},p=function(e){var n=e.persons,t=e.setPersons,c=e.filtered,a=function(e){n.map((function(c){return Object(s.jsx)("div",{children:c.id===e&&window.confirm("Delete ".concat(c.name))&&O(e).then((function(c){console.log("Eliminado"),t(n.filter((function(n){return n.id!==e})))}))})}))};return Object(s.jsx)("div",{className:"persons-list",children:c.length>=1?c.map((function(e,n){return Object(s.jsxs)("li",{className:"persons-list",children:[e.name,"-",e.number,Object(s.jsx)("button",{className:"button-del",onClick:function(){return a(e.id)},children:"delete"})]},n)})):n.map((function(e,n){return Object(s.jsxs)("li",{className:"persons-list",children:[e.name,"-",e.number,Object(s.jsx)("button",{className:"button-del",onClick:function(){return a(e.id)},children:"delete"})]},n)}))})},v=function(e){var n=e.filtro,t=e.handleFilterChange;return Object(s.jsxs)("div",{children:["filter show with ",Object(s.jsx)("input",{value:n,onChange:t})]})},x=function(e){var n=e.message;return null===n?null:Object(s.jsx)("div",{className:"message",children:n})},g=(t(39),function(){var e=Object(c.useState)([]),n=Object(i.a)(e,2),t=n[0],a=n[1],r=Object(c.useState)(""),o=Object(i.a)(r,2),d=o[0],j=o[1],b=Object(c.useState)(""),O=Object(i.a)(b,2),g=O[0],w=O[1],C=Object(c.useState)(""),N=Object(i.a)(C,2),k=N[0],S=N[1],P=Object(c.useState)({}),y=Object(i.a)(P,2),E=y[0],D=y[1],F=Object(c.useState)(null),J=Object(i.a)(F,2),T=J[0],B=J[1];Object(c.useEffect)((function(){h().then((function(e){a(e)}))}),[]);return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Phonebook"}),Object(s.jsx)(x,{message:T}),Object(s.jsx)(v,{filtro:k,handleFilterChange:function(e){S(e.target.value);var n=t.filter((function(e){return e.name.toLowerCase().includes(k)}));D(n),0===e.target.value.length&&D("")}}),Object(s.jsx)("h2",{children:"add a new"}),Object(s.jsx)(l,{addPerson:function(e){e.preventDefault();var n={name:d,number:g},c=t.find((function(e){return e.name===d})),r=Object(u.a)(Object(u.a)({},c),{},{number:g});c?window.confirm("".concat(d," is already added a Phonebook, replace the old number with a new one?"))&&m(r.id,r).then((function(e){a(t.map((function(n){return n.id!==r.id?n:e}))),j(""),w("")})).catch((function(e){B("".concat(c.name," was already deleted from server")),j(""),w(""),setTimeout((function(){B(null),console.log("nuevo render")}),5e3)})):f(n).then((function(e){a(t.concat(e)),j(""),w("")})).then((function(e){B("".concat(d," was added.")),setTimeout((function(){B(null)}),5e3)}))},name:d,number:g,handleNumberChange:function(e){w(e.target.value)},handleNameChange:function(e){j(e.target.value)}}),Object(s.jsx)("h2",{children:"Numbers"}),Object(s.jsx)(p,{persons:t,setPersons:a,filtered:E})]})});o.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(g,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.22aa2522.chunk.js.map