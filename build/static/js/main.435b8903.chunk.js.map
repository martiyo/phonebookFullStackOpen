{"version":3,"sources":["components/PersonForm.jsx","services/phonebook.js","components/Persons.jsx","components/Filter.jsx","components/Notification.jsx","components/Phonebook.jsx","index.js"],"names":["PersonForm","addPerson","name","number","handleNameChange","handleNumberChange","onSubmit","value","onChange","type","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Persons","persons","setPersons","filtered","handleDelete","map","person","window","confirm","phonebookService","console","log","filter","className","length","i","onClick","Filter","filtro","handleFilterChange","Notification","message","Phonebook","useState","newName","setNewName","setNumber","setFiltro","setFiltered","errorMessage","setErrorMessage","useEffect","e","target","toLowerCase","includes","preventDefault","personsObject","find","changePerson","returnPerson","catch","error","setTimeout","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"6LAAaA,EAAa,SAAC,GAMpB,IALLC,EAKI,EALJA,UACAC,EAII,EAJJA,KACAC,EAGI,EAHJA,OACAC,EAEI,EAFJA,iBACAC,EACI,EADJA,mBAEA,OACE,uBAAMC,SAAUL,EAAhB,UACE,yCACQ,uBAAOM,MAAOL,EAAMM,SAAUJ,OAEtC,2CACU,uBAAOG,MAAOJ,EAAQK,SAAUH,OAE1C,8BACE,wBAAQI,KAAK,SAAb,uB,gBCfFC,EAAU,2DAsBD,EApBA,WAEb,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAACC,GAAD,OAAcA,EAASC,SAkB9B,EAfA,SAACC,GAEd,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAACC,GAAD,OAAcA,EAASC,SAa9B,EAVA,SAACG,EAAIF,GAElB,OADgBL,IAAMQ,IAAN,UAAaT,EAAb,YAAwBQ,GAAMF,GAC/BH,MAAK,SAACC,GAAD,OAAcA,EAASC,SAQ9B,EALM,SAACG,GAEpB,OADgBP,IAAMS,OAAN,UAAgBV,EAAhB,YAA2BQ,IAC5BL,MAAK,SAACC,GAAD,OAAcA,EAASC,SClBhCM,EAAU,SAAC,GAAuC,IAArCC,EAAoC,EAApCA,QAASC,EAA2B,EAA3BA,WAAYC,EAAe,EAAfA,SACvCC,EAAe,SAACP,GACpBI,EAAQI,KAAI,SAACC,GAAD,OACV,8BACGA,EAAOT,KAAOA,GACbU,OAAOC,QAAP,iBAAyBF,EAAOzB,QAChC4B,EAA8BZ,GAAIL,MAAK,SAACE,GACtCgB,QAAQC,IAAI,aACZT,EAAWD,EAAQW,QAAO,SAACN,GAAD,OAAYA,EAAOT,KAAOA,eAM9D,OACE,qBAAKgB,UAAU,eAAf,SACGV,EAASW,QAAU,EAChBX,EAASE,KAAI,SAACO,EAAQG,GAAT,OACX,qBAAIF,UAAU,eAAd,UACGD,EAAO/B,KADV,IACiB+B,EAAO9B,OACtB,wBACE+B,UAAU,aACVG,QAAS,kBAAMZ,EAAaQ,EAAOf,KAFrC,sBAFgCkB,MAUpCd,EAAQI,KAAI,SAACC,EAAQS,GAAT,OACV,qBAAIF,UAAU,eAAd,UACGP,EAAOzB,KADV,IACiByB,EAAOxB,OACtB,wBACE+B,UAAU,aACVG,QAAS,kBAAMZ,EAAaE,EAAOT,KAFrC,sBAFgCkB,SC/BjCE,EAAS,SAAC,GAAoC,IAAlCC,EAAiC,EAAjCA,OAAQC,EAAyB,EAAzBA,mBAC/B,OACE,oDACmB,uBAAOjC,MAAOgC,EAAQ/B,SAAUgC,QCH1CC,EAAe,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QAC7B,OAAgB,OAAZA,EACK,KAGF,qBAAKR,UAAU,UAAf,SAA0BQ,KCKtBC,G,MAAY,WAAO,IAAD,EACCC,mBAAS,IADV,mBACtBtB,EADsB,KACbC,EADa,OAECqB,mBAAS,IAFV,mBAEtBC,EAFsB,KAEbC,EAFa,OAGDF,mBAAS,IAHR,mBAGtBzC,EAHsB,KAGd4C,EAHc,OAKDH,mBAAS,IALR,mBAKtBL,EALsB,KAKdS,EALc,OAMGJ,mBAAS,IANZ,mBAMtBpB,EANsB,KAMZyB,EANY,OAOWL,mBAAS,MAPpB,mBAOtBM,EAPsB,KAORC,EAPQ,KAS7BC,qBAAU,WACRtB,IAA0BjB,MAAK,SAACE,GAC9BQ,EAAWR,QAGZ,IAsEH,OACE,gCACE,2CAEA,cAAC,EAAD,CAAc2B,QAASQ,IAEvB,cAAC,EAAD,CAAQX,OAAQA,EAAQC,mBAjBD,SAACa,GAC1BL,EAAUK,EAAEC,OAAO/C,OAEnB,IAAMiB,EAAWF,EAAQW,QAAO,SAACN,GAAD,OAC9BA,EAAOzB,KAAKqD,cAAcC,SAASjB,MAErCU,EAAYzB,GAEc,IAA1B6B,EAAEC,OAAO/C,MAAM4B,QAAgBc,EAAY,OAWzC,2CACA,cAAC,EAAD,CACEhD,UA9EY,SAACoD,GACjBA,EAAEI,iBACF,IAAMC,EAAgB,CACpBxD,KAAM2C,EACN1C,UAGIwB,EAASL,EAAQqC,MAAK,SAAChC,GAAD,OAAYA,EAAOzB,OAAS2C,KAClDe,EAAY,2BAAQjC,GAAR,IAAgBxB,WAElCwB,EACIC,OAAOC,QAAP,UACKgB,EADL,2EAGAf,EACU8B,EAAa1C,GAAI0C,GACxB/C,MAAK,SAACgD,GACLtC,EACED,EAAQI,KAAI,SAACC,GAAD,OACVA,EAAOT,KAAO0C,EAAa1C,GAAKS,EAASkC,MAG7Cf,EAAW,IACXC,EAAU,OAEXe,OAAM,SAACC,GACNZ,EAAgB,GAAD,OAAIxB,EAAOzB,KAAX,qCACf4C,EAAW,IACXC,EAAU,IACViB,YAAW,WACTb,EAAgB,MAChBpB,QAAQC,IAAI,kBACX,QAEPF,EACU4B,GACP7C,MAAK,SAACE,GACLQ,EAAWD,EAAQ2C,OAAOlD,IAC1B+B,EAAW,IACXC,EAAU,OAEXlC,MAAK,SAAC6B,GACLS,EAAgB,GAAD,OAAIN,EAAJ,gBACfmB,YAAW,WACTb,EAAgB,QACf,SAkCPjD,KAAM2C,EACN1C,OAAQA,EACRE,mBA5BqB,SAACgD,GAC1BN,EAAUM,EAAEC,OAAO/C,QA4BfH,iBAjCmB,SAACiD,GACxBP,EAAWO,EAAEC,OAAO/C,UAmClB,yCACA,cAAC,EAAD,CAASe,QAASA,EAASC,WAAYA,EAAYC,SAAUA,SC3GnE0C,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.435b8903.chunk.js","sourcesContent":["export const PersonForm = ({\n  addPerson,\n  name,\n  number,\n  handleNameChange,\n  handleNumberChange,\n}) => {\n  return (\n    <form onSubmit={addPerson}>\n      <div>\n        name: <input value={name} onChange={handleNameChange} />\n      </div>\n      <div>\n        number: <input value={number} onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n","import axios from \"axios\";\nconst baseUrl = \"https://guarded-savannah-84072.herokuapp.com/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then((response) => response.data);\n};\n\nconst deletePerson = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\n\nexport default { getAll, create, update, deletePerson };\n","import phonebookService from \"../services/phonebook\";\n\nexport const Persons = ({ persons, setPersons, filtered }) => {\n  const handleDelete = (id) => {\n    persons.map((person) => (\n      <div>\n        {person.id === id &&\n          window.confirm(`Delete ${person.name}`) &&\n          phonebookService.deletePerson(id).then((data) => {\n            console.log(\"Eliminado\");\n            setPersons(persons.filter((person) => person.id !== id));\n          })}\n      </div>\n    ));\n  };\n\n  return (\n    <div className=\"persons-list\">\n      {filtered.length >= 1\n        ? filtered.map((filter, i) => (\n            <li className=\"persons-list\" key={i}>\n              {filter.name}-{filter.number}\n              <button\n                className=\"button-del\"\n                onClick={() => handleDelete(filter.id)}\n              >\n                delete\n              </button>\n            </li>\n          ))\n        : persons.map((person, i) => (\n            <li className=\"persons-list\" key={i}>\n              {person.name}-{person.number}\n              <button\n                className=\"button-del\"\n                onClick={() => handleDelete(person.id)}\n              >\n                delete\n              </button>\n            </li>\n          ))}\n    </div>\n  );\n};\n","export const Filter = ({ filtro, handleFilterChange }) => {\n  return (\n    <div>\n      filter show with <input value={filtro} onChange={handleFilterChange} />\n    </div>\n  );\n};\n","export const Notification = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n\n  return <div className=\"message\">{message}</div>;\n};\n","import React, { useState, useEffect } from \"react\";\n\nimport { PersonForm } from \"./PersonForm\";\nimport { Persons } from \"./Persons\";\nimport { Filter } from \"./Filter\";\nimport phonebookService from \"../services/phonebook\";\nimport { Notification } from \"./Notification\";\n\nimport \"./style.css\";\n\nexport const Phonebook = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [number, setNumber] = useState(\"\");\n\n  const [filtro, setFiltro] = useState(\"\");\n  const [filtered, setFiltered] = useState({});\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  useEffect(() => {\n    phonebookService.getAll().then((data) => {\n      setPersons(data);\n      // console.log(data);\n    });\n  }, []);\n\n  const addPerson = (e) => {\n    e.preventDefault();\n    const personsObject = {\n      name: newName,\n      number,\n    };\n\n    const person = persons.find((person) => person.name === newName);\n    const changePerson = { ...person, number };\n\n    person\n      ? window.confirm(\n          `${newName} is already added a Phonebook, replace the old number with a new one?`\n        ) &&\n        phonebookService\n          .update(changePerson.id, changePerson)\n          .then((returnPerson) => {\n            setPersons(\n              persons.map((person) =>\n                person.id !== changePerson.id ? person : returnPerson\n              )\n            );\n            setNewName(\"\");\n            setNumber(\"\");\n          })\n          .catch((error) => {\n            setErrorMessage(`${person.name} was already deleted from server`);\n            setNewName(\"\");\n            setNumber(\"\");\n            setTimeout(() => {\n              setErrorMessage(null);\n              console.log(\"nuevo render\");\n            }, 5000);\n          })\n      : phonebookService\n          .create(personsObject)\n          .then((data) => {\n            setPersons(persons.concat(data));\n            setNewName(\"\");\n            setNumber(\"\");\n          })\n          .then((message) => {\n            setErrorMessage(`${newName} was added.`);\n            setTimeout(() => {\n              setErrorMessage(null);\n            }, 5000);\n          });\n  };\n\n  const handleNameChange = (e) => {\n    setNewName(e.target.value);\n  };\n\n  const handleNumberChange = (e) => {\n    setNumber(e.target.value);\n  };\n\n  const handleFilterChange = (e) => {\n    setFiltro(e.target.value);\n\n    const filtered = persons.filter((person) =>\n      person.name.toLowerCase().includes(filtro)\n    );\n    setFiltered(filtered);\n    // console.log(filtered);\n    e.target.value.length === 0 && setFiltered(\"\");\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification message={errorMessage} />\n\n      <Filter filtro={filtro} handleFilterChange={handleFilterChange} />\n\n      <h2>add a new</h2>\n      <PersonForm\n        addPerson={addPerson}\n        name={newName}\n        number={number}\n        handleNumberChange={handleNumberChange}\n        handleNameChange={handleNameChange}\n      />\n\n      <h2>Numbers</h2>\n      <Persons persons={persons} setPersons={setPersons} filtered={filtered} />\n    </div>\n  );\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport { Phonebook } from \"./components/Phonebook\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Phonebook />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}